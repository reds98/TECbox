{
  "version": 3,
  "file": "range-calendar.js",
  "sources": [
    "ng://mat-range-datepicker/mat-range-datepicker/src/datepicker/range-calendar.ts"
  ],
  "sourcesContent": [
    "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ComponentPortal, ComponentType, Portal} from '@angular/cdk/portal';\nimport {\n    AfterContentInit,\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    OnChanges,\n    OnDestroy,\n    Optional,\n    Output,\n    SimpleChanges,\n    ViewChild,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {Subject, Subscription} from 'rxjs';\nimport {createMissingDateImplError} from './datepicker-errors';\nimport {matRangeDatepickerIntl} from './datepicker-intl';\nimport {SatMonthView} from './month-view';\nimport {SatMultiYearView, yearsPerPage} from './multi-year-view';\nimport {SatYearView} from './year-view';\n\nimport {matRangeDatepickerRangeValue} from './datepicker-input';\nimport {DateAdapter} from '../datetime/date-adapter';\nimport {MAT_DATE_FORMATS, MatDateFormats} from '../datetime/date-formats';\n\n/**\n * Possible views for the calendar.\n * @docs-private\n */\nexport type SatCalendarView = 'month' | 'year' | 'multi-year';\n\n\n\n/**\n * A calendar that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'range-calendar',\n  template: `<div class=\"from-date-sec\">\n  <sat-calendar cdkTrapFocus\n    [id]=\"id\"\n    [ngClass]=\"ngClass\"\n    [startAt]=\"startAt\"\n    [startView]=\"startView\"\n    [minDate]=\"minDate\"\n    [maxDate]=\"maxDate\"\n    [dateFilter]=\"dateFilter\"\n    [beginDate]=\"beginDate\"\n    [endDate]=\"endDate\"\n    [rangeMode]=\"rangeMode\"           \n    [selected]=\"selected\"\n    (selectedChange)=\"selectedChange.emit($event)\"\n    (dateSelected)=\"_dateSelected($event)\"\n    (yearSelected)=\"yearSelected.emit($event)\"\n    (monthSelected)=\"monthSelected.emit($event)\"\n    >\n  </sat-calendar>\n</div>\n<div class=\"end-date-sec\">\n  <sat-calendar cdkTrapFocus\n    [id]=\"id\"\n    [ngClass]=\"ngClass\"\n    [startAt]=\"startAt\"\n    [startView]=\"startView\"\n    [minDate]=\"minDate\"\n    [maxDate]=\"maxDate\"\n    [dateFilter]=\"dateFilter\"\n    [beginDate]=\"beginDate\"\n    [endDate]=\"endDate\"\n    [rangeMode]=\"rangeMode\"\n    [selected]=\"selected\"\n    (selectedChange)=\"selectedChange.emit($event)\"\n    (dateSelected)=\"_dateSelected($event)\"\n    (yearSelected)=\"yearSelected.emit($event)\"\n    (monthSelected)=\"monthSelected.emit($event)\"\n    [nextMonth]=\"true\"\n    >\n  </sat-calendar>\n</div>\n<div class=\"quick-select-sec\">\n  <span class=\"select-title\">Quick Select</span>\n  <ul>\n    <li><button mat-button (click)=\"selectQuater(1)\" [class.active]=\"checkQuarterSelected(1)\">Quarter 1</button></li>\n    <li><button mat-button (click)=\"selectQuater(2)\" [class.active]=\"checkQuarterSelected(2)\">Quarter 2</button></li>\n    <li><button mat-button (click)=\"selectQuater(3)\" [class.active]=\"checkQuarterSelected(3)\">Quarter 3</button></li>\n    <li><button mat-button (click)=\"selectQuater(4)\" [class.active]=\"checkQuarterSelected(4)\">Quarter 4</button></li>\n  </ul>\n</div>\n<div class=\"calendar-button-sec\">\n  <button mat-button color=\"primary\" (click)=\"onCancel()\">Cancel</button>\n  <button mat-raised-button color=\"primary\" (click)=\"onApply()\">Apply</button>\n</div>`,\n  styles: [`.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0}.mat-calendar-content{padding:0 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{-webkit-transform:rotate(180deg);transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;-webkit-transform:translateX(2px) rotate(-45deg);transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;-webkit-transform:translateX(-2px) rotate(45deg);transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}`],\n  host: {\n    'class': 'range-calendar',\n  },\n  exportAs: 'matRangeCalendar',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RangeCalendar<D> {\n  @Input() id: any;\n  @Input() ngClass: any;\n  @Input() startAt: any;\n  @Input() startView: any;\n  @Input() minDate: any;\n  @Input() maxDate: any;\n  @Input() dateFilter: any;\n  @Input() beginDate: any;\n  @Input() endDate: any;\n  @Input() rangeMode: any;\n  @Input() selected: any;\n  @Output() selectedChange: any = new EventEmitter();\n  @Output() dateRangesChange: any = new EventEmitter();\n  @Output() yearSelected: any = new EventEmitter();\n  @Output() monthSelected: any = new EventEmitter();\n  @Output() _userSelection: any = new EventEmitter();\n  /** Whenever user already selected start of dates interval. */\n  private _beginDateSelected = false;\n\n  constructor(_intl: matRangeDatepickerIntl,\n    @Optional() private _dateAdapter: DateAdapter<D>,\n    @Optional() @Inject(MAT_DATE_FORMATS) private _dateFormats: MatDateFormats) {\n\n    if (!this._dateAdapter) {\n    throw createMissingDateImplError('DateAdapter');\n    }\n\n    if (!this._dateFormats) {\n    throw createMissingDateImplError('MAT_DATE_FORMATS');\n    }\n  }\n\n  _dateSelected(date: D): void {\n    if (this.rangeMode) {\n      if (!this._beginDateSelected) {\n        this._beginDateSelected = true;\n        this.beginDate = date;\n        this.endDate = date;\n      } else {\n        this._beginDateSelected = false;\n        if (this._dateAdapter.compareDate(<D>this.beginDate, date) <= 0) {\n          this.dateRangesChange.emit({begin: <D>this.beginDate, end: date});\n        } else {\n          this.dateRangesChange.emit({begin: date, end: <D>this.beginDate});\n        }\n      }\n    } else if (!this._dateAdapter.sameDate(date, this.selected)) {\n      this.selectedChange.emit(date);\n    }\n  }\n\n  _getQuarterDates(quarter: number) {\n    const _year = this._dateAdapter.getYear(this._dateAdapter.today());\n    const begin = this._dateAdapter.createDate(_year, (quarter - 1) * 3 , 1);\n    const end = (\n      quarter === 4\n      ?\n      this._dateAdapter.addCalendarDays(\n        this._dateAdapter.createDate(_year + 1, 0, 1), \n        -1\n      )\n      :\n      this._dateAdapter.addCalendarDays(\n        this._dateAdapter.createDate(_year, quarter * 3, 1),\n        -1\n      )\n    );\n    return ({begin, end})\n  }\n\n  selectQuater(quarter: number) {\n    this.dateRangesChange.emit(this._getQuarterDates(quarter));\n  }\n\n  checkQuarterSelected(quarter: number) {\n    const { begin, end } = this._getQuarterDates(quarter);\n    return (\n      this._dateAdapter.sameDate(begin, this.beginDate)\n      &&\n      this._dateAdapter.sameDate(end, this.endDate)\n    );\n  }\n\n  onCancel() {\n    this._userSelection.emit()\n  }\n  onApply() {\n    this._userSelection.emit({apply: true})\n  }\n}"
  ],
  "names": [],
  "mappings": "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"
}
