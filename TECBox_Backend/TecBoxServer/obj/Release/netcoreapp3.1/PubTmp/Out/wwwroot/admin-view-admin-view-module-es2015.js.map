{"version":3,"sources":["./src/app/admin-view/admin-view-routing.module.ts","./src/app/admin-view/admin-view.component.ts","./src/app/admin-view/admin-view.component.html","./src/app/admin-view/admin-view.module.ts","./src/app/admin-view/admin-view.service.ts"],"names":[],"mappings":"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","file":"admin-view-admin-view-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminViewComponent } from './admin-view.component';\n\nconst routes: Routes = [{ path: '', component: AdminViewComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminViewRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AdminViewService } from 'src/app/admin-view/admin-view.service'\n\n@Component({\n  selector: 'app-admin-view',\n  templateUrl: './admin-view.component.html',\n  styleUrls: ['./admin-view.component.css']\n})\nexport class AdminViewComponent implements OnInit {\n\n  items;\n  data = {\n    'roles': {\n    },\n    'offices': {\n    },\n    'workers': {\n    },\n    'sellers': {\n    },\n    'products': {\n    },\n    'routes': {\n    },\n    'app_movil_auth': {'authorized': 'false'},\n    'app_movil_packages': {\n    }\n  };\n\n  selectedItem = null;\n  title = 'Seleccione una vista';\n  \n  objectValues = Object.values;\n  objectKeys = Object.keys;\n\n\n  // Gets data from the server and sets localStorage items\n  getData(type, dataType){\n    this.selectedItem = null;\n    this.items = null;\n    this.title = 'Cargando';\n    console.log(type)\n    console.log( window.location.origin)\n    this.adminService.getItems(type)\n    \n    .subscribe(data => {\n      let oldData = localStorage.getItem(dataType);\n      localStorage.setItem(dataType, JSON.stringify(data));\n      if(oldData != localStorage.getItem(dataType)){\n        location.reload();\n      }\n    });\n    this.setData(type);\n  }\n\n  // Sets the information to each item\n  setData(type){\n    this.data.roles = JSON.parse(localStorage.getItem('RolesData'));\n    this.data.offices = JSON.parse(localStorage.getItem('OfficesData'));\n    this.data.workers = JSON.parse(localStorage.getItem('WorkersData'));\n    this.data.sellers = JSON.parse(localStorage.getItem('SellersData'));\n    this.data.products = JSON.parse(localStorage.getItem('ProductsData'));\n    this.data.routes = JSON.parse(localStorage.getItem('RoutesData'));\n    \n    this.items = this.data[type];\n  }\n\n  // Adds item\n  newItem(): void {\n    this.selectedItem = Object.entries(this.items[0]).map(item => {\n      return [item[0], ''];\n    });\n  }\n\n  // Deletes item\n  deleteItem(selectedItem): void {\n    this.items = this.items.filter(item => selectedItem !== item);\n    this.selectedItem = null;\n  }\n\n  // Selects item\n  selectItem(selectedItem) {\n    this.selectedItem = Object.entries(selectedItem);\n  }\n\n  // Deselects item\n  onConfirm() {\n    this.selectedItem = null;\n  }\n\n  constructor(private adminService: AdminViewService) {\n  }\n\n  ngOnInit(): void {\n\n  }\n}\n","<button (click)=\"getData('roles','RolesData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de roles</button>\n<button (click)=\"getData('offices','OfficesData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de sucursales</button>\n<button (click)=\"getData('workers','WorkersData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de trabajadores</button>\n<button (click)=\"getData('sellers','SellersData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de vendedores</button>\n<button (click)=\"getData('products','ProductsData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de productos</button>\n<button (click)=\"getData('routes','RoutesData')\" type=\"button\" class=\"btn myBtn ml-1\">Gestión de rutas</button>\n\n\n<div class=\"container\">\n  <ul class=\"list-group\"  *ngIf=\"items\">\n    <li\n      *ngFor=\"let item of items\"\n      class=\"list-group-item\">\n      <div>\n        <button (click)=\"selectItem(item)\" type=\"button\" class=\"btn editBtn ml-1\"><i class=\"fas fa-edit\"></i></button>\n        <button (click)=\"deleteItem(item)\" type=\"button\" class=\"btn deleteBtn ml-1\"><i class=\"fas fa-trash-alt\"></i></button>\n        <div *ngFor=\"let attribute of objectValues(item)\">{{attribute}}</div>\n      </div>\n    </li>\n    <li class=\"list-group-item\">\n      <div>\n        <button (click)=\"newItem()\" type=\"button\" class=\"btn myBtn\"><i class=\"fas fa-plus ml-1\"></i></button>\n      </div>\n    </li>\n  </ul>\n  <div *ngIf=\"selectedItem\" class=\"container\">\n    <h2>Detalles</h2>\n    <div class=\"form-group\" *ngFor=\"let attr of selectedItem\">\n      <label for=\"item1\">{{attr[0]}}</label>\n      <input type=\"text\" id=\"item1\" class=\"form-control\" value=\"{{attr[1]}}\">\n    </div>\n    <button type=\"button\" class=\"btn myBtn\" (click)=\"onConfirm()\"><i class=\"fas fa-check\"></i></button>\n    <button type=\"button\" class=\"btn deleteBtn\" (click)=\"onConfirm()\"><i class=\"fas fa-window-close\"></i></button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdminViewRoutingModule } from './admin-view-routing.module';\nimport { AdminViewComponent } from './admin-view.component';\n\n\n@NgModule({\n  declarations: [AdminViewComponent],\n  imports: [\n    CommonModule,\n    AdminViewRoutingModule\n  ]\n})\nexport class AdminViewModule { }\n","import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminViewService {\n\n  //private url: string = \"http://localhost:53572/api/\";\n  private url: string = window.location.origin+\"/api/\";\n  constructor(private http: HttpClient) {\n  }\n\n  // Assigns a type to every observable that is received and returns this typified observable.\n  getItems(type): Observable<any> {\n    let observable;\n      observable =  this.httpGet<JSON>(type);\n      return observable;\n  }\n\n  // Calls http.get() with the corresponding resource url.\n  private httpGet<T>(type): Observable<T> {\n    console.log(this.url + type)\n    return this.http.get<T>(this.url + type);\n  }\n}\n\n\n"],"sourceRoot":"webpack:///"}